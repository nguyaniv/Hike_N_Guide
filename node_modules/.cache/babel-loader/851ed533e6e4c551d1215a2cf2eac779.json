{"ast":null,"code":"import history from '../history';\nimport Axios from 'axios';\nconst BASE_URL = 'http://localhost:3000/';\nvar axios = Axios.create({\n  withCredentials: true\n});\nexport default {\n  get(endpoint, data) {\n    return ajax(endpoint, 'GET', data);\n  },\n\n  post(endpoint, data) {\n    return ajax(endpoint, 'POST', data);\n  },\n\n  put(endpoint, data) {\n    return ajax(endpoint, 'PUT', data);\n  },\n\n  delete(endpoint, data) {\n    return ajax(endpoint, 'DELETE', data);\n  }\n\n};\n\nasync function ajax(endpoint, method = 'get', data = null) {\n  try {\n    const res = await axios({\n      url: `${BASE_URL}${endpoint}`,\n      method,\n      data\n    });\n    return res.data;\n  } catch (err) {\n    console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\n    console.dir(err);\n\n    if (err.response && err.response.status === 401) {\n      history.push('/login');\n    }\n\n    throw err;\n  }\n}","map":{"version":3,"sources":["C:/Users/lior9/Desktop/sprint4/Hike_N_Guide/src/services/httpService.js"],"names":["history","Axios","BASE_URL","axios","create","withCredentials","get","endpoint","data","ajax","post","put","delete","method","res","url","err","console","log","dir","response","status","push"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,wBAAjB;AAGA,IAAIC,KAAK,GAAGF,KAAK,CAACG,MAAN,CAAa;AACrBC,EAAAA,eAAe,EAAE;AADI,CAAb,CAAZ;AAIA,eAAe;AACXC,EAAAA,GAAG,CAACC,QAAD,EAAWC,IAAX,EAAgB;AACf,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACH,GAHU;;AAIXE,EAAAA,IAAI,CAACH,QAAD,EAAWC,IAAX,EAAgB;AAChB,WAAOC,IAAI,CAACF,QAAD,EAAW,MAAX,EAAmBC,IAAnB,CAAX;AACH,GANU;;AAOXG,EAAAA,GAAG,CAACJ,QAAD,EAAWC,IAAX,EAAgB;AACf,WAAOC,IAAI,CAACF,QAAD,EAAW,KAAX,EAAkBC,IAAlB,CAAX;AACH,GATU;;AAUXI,EAAAA,MAAM,CAACL,QAAD,EAAWC,IAAX,EAAgB;AAClB,WAAOC,IAAI,CAACF,QAAD,EAAW,QAAX,EAAqBC,IAArB,CAAX;AACH;;AAZU,CAAf;;AAgBA,eAAeC,IAAf,CAAoBF,QAApB,EAA8BM,MAAM,GAAC,KAArC,EAA4CL,IAAI,GAAC,IAAjD,EAAuD;AACnD,MAAI;AACA,UAAMM,GAAG,GAAG,MAAMX,KAAK,CAAC;AACpBY,MAAAA,GAAG,EAAG,GAAEb,QAAS,GAAEK,QAAS,EADR;AAEpBM,MAAAA,MAFoB;AAGpBL,MAAAA;AAHoB,KAAD,CAAvB;AAKA,WAAOM,GAAG,CAACN,IAAX;AACH,GAPD,CAOE,OAAOQ,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAa,cAAaL,MAAO,iCAAgCN,QAAS,gBAAeC,IAAK,EAA9F;AACAS,IAAAA,OAAO,CAACE,GAAR,CAAYH,GAAZ;;AACA,QAAIA,GAAG,CAACI,QAAJ,IAAgBJ,GAAG,CAACI,QAAJ,CAAaC,MAAb,KAAwB,GAA5C,EAAiD;AAC/CrB,MAAAA,OAAO,CAACsB,IAAR,CAAa,QAAb;AACD;;AACD,UAAMN,GAAN;AACH;AACJ","sourcesContent":["import history from '../history';\r\nimport Axios from 'axios';\r\n\r\nconst BASE_URL = 'http://localhost:3000/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data){\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data){\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data){\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data){\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\n\r\nasync function ajax(endpoint, method='get', data=null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        if (err.response && err.response.status === 401) {\r\n          history.push('/login');\r\n        }\r\n        throw err;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}